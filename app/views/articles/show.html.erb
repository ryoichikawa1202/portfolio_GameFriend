<div>
  <p>投稿ユーザー画像：<%= image_tag @article.user.get_profile_image(100,100) %></p>
  <p>ユーザーネーム: <%= @article.user.name %></p>
  <p>ゲームタイトル: <%= @article.title %></p>
  <p>本文: <%= @article.body %></p>
  <p>投稿日: <%= @article.created_at.strftime('%Y/%m/%d') %></p>
  <% if @article.user == current_user %>
    <%= link_to "削除", article_path(@article), method: :delete %>
  <% end %>
  <% if @article.favorited_by?(current_user) %>
    <p>
      <%= link_to article_favorites_path(@article), method: :delete do %>
        ♥<%= @article.favorites.count %>いいね
      <% end %>
    </p>
  <% else %>
    <p>
      <%= link_to article_favorites_path(@article), method: :post do %>
        ♡<%= @article.favorites.count %>いいね
      <% end %>
    </p>
  <% end %>
</div>

<div>
  <p>コメント件数:<%= @article.article_comments.count %></p>
  <% @article.article_comments.each do |article_comment| %>
    <p><%= image_tag article_comment.user.get_profile_image(100,100) %></p>
    <%= article_comment.user.name %>
    <%= article_comment.created_at.strftime('%Y/%m/%d') %><%= article_comment.comment %>
    <% if article_comment.user == current_user %>
      <%= link_to "削除", article_article_comment_path(article_comment.article,article_comment), method: :delete %>
    <% end %>
  <% end %>
</div>

<% if @error_comment.present? %>
  <%= @error_comment.errors.count %>件のエラーが発生しました
  <ul>
    <% @error_comment.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>

<div>
  <%= form_with model: [@article, @article_comment] do |f| %>
    <%= f.text_area :comment, row: '5', placeholder: "コメントをここに" %>
    <%= f.submit "送信する" %>
  <% end %>
</div>